(function(){"use strict";var t={9353:function(t,e,o){var r=o(9963),n=o(6252);function i(t,e){const o=(0,n.up)("router-link"),r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",null,[(0,n.Wm)(o,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1}),(0,n.Uk)(" | "),(0,n.Wm)(o,{to:"/about"},{default:(0,n.w5)((()=>[(0,n.Uk)("About")])),_:1})]),(0,n.Wm)(r)],64)}var s=o(3744);const a={},l=(0,s.Z)(a,[["render",i]]);var d=l,c=o(2201),u=o(3577);const p={class:"home"},m={key:0},h={key:1},g=["src"],f={class:"add-form"};function v(t,e,o,i,s,a){return(0,n.wg)(),(0,n.iD)("div",p,[t.isLoading?((0,n.wg)(),(0,n.iD)("div",m,"...Loading...")):t.hasError?((0,n.wg)(),(0,n.iD)("div",h,"Error")):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:2},(0,n.Ko)(t.getItemsList,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id,class:"item"},[(0,n._)("div",null,(0,u.zw)(t.title),1),(0,n._)("div",null,(0,u.zw)(t.producer),1),(0,n._)("div",null,(0,u.zw)(t.price),1),(0,n._)("div",null,[(0,n._)("img",{src:t.imgSrc},null,8,g)])])))),128)),(0,n._)("div",f,[(0,n._)("div",null,[(0,n._)("label",null,[(0,n.Uk)(" Title "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.product.title=t),type:"text"},null,512),[[r.nr,s.product.title]])])]),(0,n._)("div",null,[(0,n._)("label",null,[(0,n.Uk)(" Producer "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.product.producer=t),type:"text"},null,512),[[r.nr,s.product.producer]])])]),(0,n._)("div",null,[(0,n._)("label",null,[(0,n.Uk)(" Price "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.product.price=t),type:"number"},null,512),[[r.nr,s.product.price]])])]),(0,n._)("div",null,[(0,n._)("label",null,[(0,n.Uk)(" Image src "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.product.imgSrc=t),type:"text"},null,512),[[r.nr,s.product.imgSrc]])])]),(0,n._)("button",{onClick:e[4]||(e[4]=(...t)=>a.onAdd&&a.onAdd(...t))},"Додати новий продукт")])])}var L=o(3907),y={name:"HomePage",components:{},data(){return{product:{}}},computed:{...(0,L.Se)("shoppingList",["getItemsList","isLoading","hasError"])},created(){this.loadList()},methods:{...(0,L.nv)("shoppingList",["loadList","addItem"]),onAdd(){this.addItem(this.product),this.product={}}}};const b=(0,s.Z)(y,[["render",v]]);var w=b;const I=[{path:"/",name:"home",component:w}],_=(0,c.p7)({history:(0,c.PO)("/test-deploy/"),routes:I});var k=_,E=(o(560),o(3977)),O=o(7350);const P={apiKey:"AIzaSyA5CzxKCW4th2mBGzvM9BTbvLxZDOkPVp0",authDomain:"test-deploy-d035c.firebaseapp.com",projectId:"test-deploy-d035c",storageBucket:"test-deploy-d035c.appspot.com",messagingSenderId:"366452105990",appId:"1:366452105990:web:fc4c12860aa7a03213b487"},U=(0,E.ZF)(P),C=(0,O.ad)(U);var D=C;class x{constructor(t){this.dbCollection=(0,O.hJ)(D,`/${t}`)}getListFromSnapshot(t){const e=[];return t.docs.forEach((t=>{e.push({id:t.id,...t.data()})})),e}loadItemsList(){return new Promise(((t,e)=>{(0,O.PL)(this.dbCollection).then((e=>{t(this.getListFromSnapshot(e))})).catch((t=>{e(t)}))}))}addItem(t){return new Promise(((e,o)=>{(0,O.ET)(this.dbCollection,t).then((()=>{e(!0)})).catch((t=>{o(t)}))}))}deleteItem(t){return new Promise(((e,o)=>{(0,O.oe)((0,O.JU)(this.dbCollection,t)).then((()=>{e(!0)})).catch((t=>{o(t)}))}))}updateItem(t,e){return console.log("itemId"),console.log(t),new Promise(((o,r)=>{const n=(0,O.JU)(this.dbCollection,t);(0,O.r7)(n,e).then((()=>{o(!0)})).catch((t=>{r(t)}))}))}loadFilteredData(t,e,o){const r=(0,O.IO)(this.dbCollection,(0,O.ar)(t,e,o));return new Promise(((t,e)=>{(0,O.PL)(r).then((e=>{t(this.getListFromSnapshot(e))})).catch((t=>{e(t)}))}))}}var S=x;const F=new S("products");var T={namespaced:!0,state:()=>({shoppingList:[],loading:!1,error:null}),getters:{isLoading:t=>t.loading,hasError:t=>t.error,getItemsList:t=>t.todoList,getItemById:t=>e=>t.todoList.find((t=>t.id==e))},mutations:{setItemsList(t,e){t.todoList=e},deleteItem(t,e){t.todoList=t.todoList.filter((t=>t.id!==e))},setLoading(t,e){t.loading=e},setError(t,e){t.error=e}},actions:{loadList({commit:t}){t("setError",null),t("setLoading",!0),F.loadItemsList().then((e=>{t("setItemsList",e)})).catch((e=>{t("setError",e)})).finally((()=>{t("setLoading",!1)}))},addItem({commit:t,dispatch:e},o){t("setError",null),t("setLoading",!0),F.addItem(o).then((()=>{e("loadList")})).catch((e=>{t("setError",e)})).finally((()=>{t("setLoading",!1)}))},deleteItem({commit:t},e){t("setError",null),t("setLoading",!0),F.deleteItem(e).then((()=>{t("deleteItem",e)})).catch((e=>{t("setError",e)})).finally((()=>{t("setLoading",!1)}))},updateItem({commit:t,dispatch:e},{itemId:o,data:r}){t("setError",null),t("setLoading",!0),F.updateItem(o,r).then((()=>{e("loadList")})).catch((e=>{t("setError",e)})).finally((()=>{t("setLoading",!1)}))},loadFilteredData({commit:t},{fieldTitle:e,compareOperator:o,valueToCompare:r}){t("setError",null),t("setLoading",!0),F.loadFilteredData(e,o,r).then((e=>{t("setItemsList",e)})).catch((e=>{t("setError",e)})).finally((()=>{t("setLoading",!1)}))}}},j=(0,L.MT)({modules:{shoppingList:T}}),z=o(4411);(0,z.z2)(),(0,r.ri)(d).use(j).use(k).mount("#app")}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,r,n,i){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],n=t[c][1],i=t[c][2];for(var a=!0,l=0;l<r.length;l++)(!1&i||s>=i)&&Object.keys(o.O).every((function(t){return o.O[t](r[l])}))?r.splice(l--,1):(a=!1,i<s&&(s=i));if(a){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[r,n,i]}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,i,s=r[0],a=r[1],l=r[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(l)var c=l(o)}for(e&&e(r);d<s.length;d++)i=s[d],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(c)},r=self["webpackChunkvue_home_task_lesson_14"]=self["webpackChunkvue_home_task_lesson_14"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(9353)}));r=o.O(r)})();
//# sourceMappingURL=app.e08922d4.js.map